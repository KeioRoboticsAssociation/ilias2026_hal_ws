/**
 * @file mavlink_unified_handlers.h
 * @brief MAVLink message handlers (auto-generated)
 *
 * This file was automatically generated by MAVLink HAL Code Generator
 * from configuration: {{ config_file }}
 *
 * Generated: {{ generation_timestamp }}
 * Generator Version: {{ generator_version }}
 * Platform: {{ platform.type }}
 * MCU: {{ platform.mcu.model }}
 *
 * DO NOT EDIT THIS FILE MANUALLY
 * Changes will be lost when regenerating from configuration
 */

#ifndef MAVLINK_UNIFIED_HANDLERS_H
#define MAVLINK_UNIFIED_HANDLERS_H

#ifdef __cplusplus
extern "C" {
#endif

/* ========================================================================== */
/*  INCLUDES                                                                  */
/* ========================================================================== */

#include "mavlink_unified_devices.h"
#include "../src/mavlink_device_handlers.h"

/* MAVLink library */
#include "mavlink/c_library_v2/common/mavlink.h"

/* ========================================================================== */
/*  MESSAGE HANDLER FUNCTIONS                                                 */
/* ========================================================================== */

/**
 * @brief Handle incoming MAVLink message
 *
 * Routes message to appropriate handler based on message ID.
 *
 * @param msg MAVLink message
 * @return 0 on success, -1 on error
 */
int mavlink_unified_handle_message(const mavlink_message_t* msg);

/**
 * @brief Handle RC_CHANNELS_OVERRIDE message
 *
 * Maps RC channels 1-8 to device IDs 1-8.
 *
 * @param msg RC channels message
 */
void mavlink_handle_rc_channels_override(const mavlink_rc_channels_override_t* msg);

/**
 * @brief Handle MANUAL_CONTROL message
 *
 * Joystick control for manual operation.
 *
 * @param msg Manual control message
 */
void mavlink_handle_manual_control(const mavlink_manual_control_t* msg);

/**
 * @brief Handle MOTOR_COMMAND message
 *
 * Generic motor command for any device ID.
 *
 * @param msg Motor command message
 */
void mavlink_handle_motor_command(const mavlink_motor_command_t* msg);

/**
 * @brief Handle PARAM_REQUEST_LIST message
 *
 * Enumerate all device parameters.
 *
 * @param msg Parameter request message
 */
void mavlink_handle_param_request_list(const mavlink_param_request_list_t* msg);

/**
 * @brief Handle PARAM_REQUEST_READ message
 *
 * Read specific parameter value.
 *
 * @param msg Parameter read request
 */
void mavlink_handle_param_request_read(const mavlink_param_request_read_t* msg);

/**
 * @brief Handle PARAM_SET message
 *
 * Set parameter value.
 *
 * @param msg Parameter set message
 */
void mavlink_handle_param_set(const mavlink_param_set_t* msg);

/* ========================================================================== */
/*  TELEMETRY FUNCTIONS                                                       */
/* ========================================================================== */

/**
 * @brief Send heartbeat message
 */
void mavlink_send_heartbeat(void);

/**
 * @brief Send device telemetry
 *
 * Sends status for all enabled devices.
 */
void mavlink_send_device_telemetry(void);

/**
 * @brief Send parameter value message
 *
 * @param param_id Parameter ID string
 * @param param_value Parameter value
 * @param param_index Parameter index
 * @param param_count Total parameter count
 */
void mavlink_send_param_value(const char* param_id, float param_value,
                                uint16_t param_index, uint16_t param_count);

/* ========================================================================== */
/*  SYSTEM CONFIGURATION                                                      */
/* ========================================================================== */

#define MAVLINK_SYSTEM_ID      {{ mavlink.system_id }}
#define MAVLINK_COMPONENT_ID   {{ mavlink.component_id }}
#define MAVLINK_CHAN           MAVLINK_COMM_0

/* Telemetry rates */
#define HEARTBEAT_RATE_HZ      {{ system.heartbeat_rate_hz | default(1) }}
#define TELEMETRY_RATE_HZ      {{ system.telemetry_rate_hz | default(10) }}

#ifdef __cplusplus
}
#endif

#endif /* MAVLINK_UNIFIED_HANDLERS_H */
