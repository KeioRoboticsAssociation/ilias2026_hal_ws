/**
 * @file mavlink_generated_config.h
 * @brief Auto-generated MAVLink device configuration
 *
 * Generated from: h753_rs485_test.yaml
 * Platform: STM32
 * Generated: 2025-11-15T03:18:14.497411
 * Checksum: e2497d102defaaba
 * Generator Version: 1.0.0
 *
 * DO NOT EDIT THIS FILE MANUALLY!
 * Any changes will be overwritten on next generation.
 */

#ifndef MAVLINK_GENERATED_CONFIG_H
#define MAVLINK_GENERATED_CONFIG_H

#ifdef __cplusplus
extern "C" {
#endif

#include <stdint.h>
#include <stdbool.h>

/* Include motor interface for controller access */
#include "motors/motor_interface.h"

/* ========================================================================== */
/*  PLATFORM CONFIGURATION                                                    */
/* ========================================================================== */

#define MAVLINK_GEN_PLATFORM_STM32
#define MAVLINK_GEN_MCU_MODEL "STM32H753ZI"
#define MAVLINK_GEN_MCU_CLOCK_MHZ 480

/* ========================================================================== */
/*  MAVLINK CONFIGURATION                                                     */
/* ========================================================================== */

#define MAVLINK_GEN_SYSTEM_ID 1
#define MAVLINK_GEN_COMPONENT_ID 1
#define MAVLINK_GEN_AUTOPILOT_TYPE 

/* Transport: UDP */
#define MAVLINK_GEN_TRANSPORT_UDP

#define MAVLINK_GEN_UDP_LOCAL_IP "192.168.11.4"
#define MAVLINK_GEN_UDP_LOCAL_PORT 14550
#define MAVLINK_GEN_UDP_REMOTE_IP "192.168.11.2"
#define MAVLINK_GEN_UDP_REMOTE_PORT 14550


/* ========================================================================== */
/*  DEVICE COUNTS                                                             */
/* ========================================================================== */

#define MAVLINK_GEN_DEVICE_COUNT 3
#define MAVLINK_GEN_SERVO_COUNT 0
#define MAVLINK_GEN_DC_MOTOR_COUNT 0
#define MAVLINK_GEN_BLDC_MOTOR_COUNT 0
#define MAVLINK_GEN_STEPPER_COUNT 0
#define MAVLINK_GEN_ROBOMASTER_COUNT 0
#define MAVLINK_GEN_RS485_MOTOR_COUNT 3
#define MAVLINK_GEN_ENCODER_COUNT 0
#define MAVLINK_GEN_IMU_COUNT 0
#define MAVLINK_GEN_GPS_COUNT 0
#define MAVLINK_GEN_ANALOG_SENSOR_COUNT 0
#define MAVLINK_GEN_DIGITAL_IO_COUNT 0

/* ========================================================================== */
/*  DEVICE DEFINITIONS                                                        */
/* ========================================================================== */

/* Device 1: conveyor_motor_1 (ID: 30, Type: rs485_motor) */
#define MAVLINK_GEN_DEVICE_CONVEYOR_MOTOR_1_ID 30
#define MAVLINK_GEN_DEVICE_CONVEYOR_MOTOR_1_TYPE_RS485_MOTOR

/* Device 2: conveyor_motor_2 (ID: 31, Type: rs485_motor) */
#define MAVLINK_GEN_DEVICE_CONVEYOR_MOTOR_2_ID 31
#define MAVLINK_GEN_DEVICE_CONVEYOR_MOTOR_2_TYPE_RS485_MOTOR

/* Device 3: lift_motor (ID: 32, Type: rs485_motor) */
#define MAVLINK_GEN_DEVICE_LIFT_MOTOR_ID 32
#define MAVLINK_GEN_DEVICE_LIFT_MOTOR_TYPE_RS485_MOTOR


/* ========================================================================== */
/*  SYSTEM CONFIGURATION                                                      */
/* ========================================================================== */

#define MAVLINK_GEN_LOOP_FREQUENCY_HZ 100
#define MAVLINK_GEN_HEARTBEAT_RATE_HZ 1
#define MAVLINK_GEN_WATCHDOG_TIMEOUT_MS 1000
#define MAVLINK_GEN_EMERGENCY_STOP_PIN "PC13"

/* ========================================================================== */
/*  SERVO CONFIGURATION                                                       */
/* ========================================================================== */


/* ========================================================================== */
/*  DC MOTOR CONFIGURATION                                                    */
/* ========================================================================== */


/* ========================================================================== */
/*  ROBOMASTER MOTOR CONFIGURATION                                            */
/* ========================================================================== */


/* ========================================================================== */
/*  RS485 MOTOR CONFIGURATION                                                 */
/* ========================================================================== */

/* NOTE: rs485_control_mode_t is defined in motors/rs485_controller.h (included via motor_interface.h) */

typedef struct {
    uint8_t id;
    const char* name;
    uint8_t uart_port;
    uint8_t rs485_device_id;
    uint8_t motor_index;        /* Motor index on the board (0-2 for 3 motors) */
    rs485_control_mode_t control_mode;
    float max_rps;
} mavlink_gen_rs485_config_t;

extern const mavlink_gen_rs485_config_t mavlink_gen_rs485_configs[MAVLINK_GEN_RS485_MOTOR_COUNT];

/* ========================================================================== */
/*  SENSOR CONFIGURATION                                                      */
/* ========================================================================== */




/* ========================================================================== */
/*  FUNCTION PROTOTYPES                                                       */
/* ========================================================================== */

/**
 * @brief Initialize all devices from generated configuration
 * @return 0 on success, negative on error
 */
int mavlink_gen_init_all_devices(void);

/**
 * @brief Update all devices (call in main loop)
 * @return 0 on success, negative on error
 */
int mavlink_gen_update_all_devices(void);

/**
 * @brief Emergency stop all devices
 */
void mavlink_gen_emergency_stop_all(void);

/**
 * @brief Get device name by ID
 * @param device_id Device ID
 * @return Device name or NULL if not found
 */
const char* mavlink_gen_get_device_name(uint8_t device_id);

/**
 * @brief Get motor controller by ID (unified access)
 * @param motor_id Motor ID (1-255)
 * @return Pointer to motor controller, or NULL if not found
 */
motor_controller_t* mavlink_gen_get_controller_by_id(uint8_t motor_id);

#ifdef __cplusplus
}
#endif

#endif /* MAVLINK_GENERATED_CONFIG_H */
